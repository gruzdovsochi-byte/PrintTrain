html_content = '''<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—É–ø–µ—Ä –¢—Ä–µ–Ω–∞–∂–µ—Ä –ü–µ—á–∞—Ç–∏ –¥–ª—è –î–µ—Ç–µ–π</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .title {
            font-size: 2.8rem;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .stats-panel {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255,255,255,0.95);
            padding: 15px 20px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            min-width: 120px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-3px);
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.4rem;
            font-weight: bold;
            color: #4a90e2;
        }

        .game-area {
            background: rgba(255,255,255,0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            margin-bottom: 30px;
            text-align: center;
        }

        .current-word {
            font-size: 3.5rem;
            font-weight: bold;
            margin-bottom: 30px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            letter-spacing: 3px;
        }

        .letter {
            transition: all 0.3s ease;
            padding: 0 2px;
        }

        .letter.correct {
            color: #28a745;
            background-color: rgba(40, 167, 69, 0.1);
            border-radius: 5px;
        }

        .letter.incorrect {
            color: #dc3545;
            background-color: rgba(220, 53, 69, 0.1);
            border-radius: 5px;
        }

        .letter.current {
            background-color: #ffc107;
            color: #212529;
            border-radius: 5px;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        .input-area {
            margin-bottom: 30px;
        }

        .word-input {
            font-size: 2rem;
            padding: 15px 25px;
            border: 3px solid #ddd;
            border-radius: 15px;
            width: 100%;
            max-width: 400px;
            text-align: center;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .word-input:focus {
            border-color: #4a90e2;
            box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1);
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .btn {
            padding: 12px 25px;
            font-size: 1.1rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .keyboard {
            background: rgba(255,255,255,0.95);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-top: 20px;
        }

        .keyboard-row {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-bottom: 8px;
        }

        .key {
            padding: 10px;
            min-width: 40px;
            height: 40px;
            border: 2px solid #ddd;
            border-radius: 6px;
            background: linear-gradient(145deg, #f0f0f0, #ffffff);
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
        }

        .key:hover {
            border-color: #4a90e2;
            transform: translateY(-1px);
        }

        .key.highlight {
            background: linear-gradient(145deg, #ffc107, #ffeb3b);
            border-color: #ff9800;
            animation: keyGlow 0.5s ease-in-out;
            box-shadow: 0 0 15px rgba(255, 193, 7, 0.5);
        }

        .key.correct-press {
            background: linear-gradient(145deg, #28a745, #34ce57);
            border-color: #1e7e34;
            color: white;
        }

        .key.wrong-press {
            background: linear-gradient(145deg, #dc3545, #e4606d);
            border-color: #bd2130;
            color: white;
        }

        @keyframes keyGlow {
            0% { box-shadow: 0 0 5px rgba(255, 193, 7, 0.3); }
            50% { box-shadow: 0 0 20px rgba(255, 193, 7, 0.8); }
            100% { box-shadow: 0 0 15px rgba(255, 193, 7, 0.5); }
        }

        .key.space {
            min-width: 200px;
        }

        .key.special {
            min-width: 60px;
            font-size: 10px;
            background: linear-gradient(145deg, #e9ecef, #dee2e6);
        }

        .achievement {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            z-index: 1000;
            animation: achievementPop 0.5s ease-out;
        }

        @keyframes achievementPop {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        .money-animation {
            position: absolute;
            color: #28a745;
            font-weight: bold;
            font-size: 1.5rem;
            animation: moneyFloat 2s ease-out forwards;
            pointer-events: none;
        }

        @keyframes moneyFloat {
            0% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-50px); }
        }

        .welcome-screen {
            text-align: center;
            padding: 60px 20px;
        }

        .welcome-title {
            font-size: 4rem;
            color: #fff;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.4);
            margin-bottom: 30px;
        }

        .welcome-subtitle {
            font-size: 1.5rem;
            color: rgba(255,255,255,0.9);
            margin-bottom: 40px;
        }

        .level-selector {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .level-btn {
            padding: 20px 30px;
            font-size: 1.2rem;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            min-width: 150px;
        }

        .level-1 { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }
        .level-2 { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); }
        .level-3 { background: linear-gradient(135deg, #ff8a80 0%, #ea4c89 100%); color: white; }

        @media (max-width: 768px) {
            .title { font-size: 2rem; }
            .current-word { font-size: 2.5rem; }
            .word-input { font-size: 1.5rem; max-width: 300px; }
            .key { min-width: 35px; height: 35px; font-size: 12px; }
            .key.space { min-width: 150px; }
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è -->
    <div id="welcomeScreen" class="welcome-screen">
        <div class="container">
            <h1 class="welcome-title">üéÆ –°—É–ø–µ—Ä –¢—Ä–µ–Ω–∞–∂–µ—Ä –ü–µ—á–∞—Ç–∏ üéÆ</h1>
            <p class="welcome-subtitle">–£—á–∏—Å—å –ø–µ—á–∞—Ç–∞—Ç—å –±—ã—Å—Ç—Ä–æ –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–µ–Ω—å–≥–∏!</p>
            
            <div class="level-selector">
                <button class="level-btn level-1" onclick="startGame(1)">
                    üåü –£—Ä–æ–≤–µ–Ω—å 1<br>
                    <small>–ü—Ä–æ—Å—Ç—ã–µ —Å–ª–æ–≤–∞ (3-5 –±—É–∫–≤)</small>
                </button>
                <button class="level-btn level-2" onclick="startGame(2)">
                    üî• –£—Ä–æ–≤–µ–Ω—å 2<br>
                    <small>–°—Ä–µ–¥–Ω–∏–µ —Å–ª–æ–≤–∞ (6-8 –±—É–∫–≤)</small>
                </button>
                <button class="level-btn level-3" onclick="startGame(3)">
                    üíé –£—Ä–æ–≤–µ–Ω—å 3<br>
                    <small>–°–ª–æ–∂–Ω—ã–µ —Å–ª–æ–≤–∞ (9+ –±—É–∫–≤)</small>
                </button>
            </div>

            <button class="btn btn-primary" style="font-size: 1.5rem; padding: 20px 40px;" onclick="startGame(1)">
                üöÄ –ù–∞—á–∞—Ç—å —Å –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è!
            </button>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–≥—Ä–∞ -->
    <div id="gameScreen" class="container hidden">
        <div class="header">
            <h1 class="title">üéÆ –°—É–ø–µ—Ä –¢—Ä–µ–Ω–∞–∂–µ—Ä –ü–µ—á–∞—Ç–∏ üéÆ</h1>
        </div>

        <div class="stats-panel">
            <div class="stat-card">
                <div class="stat-label">üí∞ –ë–∞–ª–∞–Ω—Å</div>
                <div class="stat-value" id="balance">0 —Ä—É–±. 00 –∫–æ–ø.</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">üéØ –£—Ä–æ–≤–µ–Ω—å</div>
                <div class="stat-value" id="currentLevel">1</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">‚ö° –°–∫–æ—Ä–æ—Å—Ç—å</div>
                <div class="stat-value" id="speed">0 —Å–ª/–º–∏–Ω</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">üéØ –¢–æ—á–Ω–æ—Å—Ç—å</div>
                <div class="stat-value" id="accuracy">100%</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">‚è∞ –í—Ä–µ–º—è</div>
                <div class="stat-value" id="timer">0:00</div>
            </div>
        </div>

        <div class="game-area">
            <div class="current-word" id="currentWord">–ù–∞–∂–º–∏ "–ù–æ–≤–æ–µ —Å–ª–æ–≤–æ" –¥–ª—è –Ω–∞—á–∞–ª–∞</div>
            <div class="input-area">
                <input type="text" class="word-input" id="wordInput" placeholder="–ù–∞—á–Ω–∏ –ø–µ—á–∞—Ç–∞—Ç—å –∑–¥–µ—Å—å..." disabled>
            </div>
        </div>

        <div class="controls">
            <button class="btn btn-success" id="newWordBtn" onclick="newWord()">üìù –ù–æ–≤–æ–µ —Å–ª–æ–≤–æ</button>
            <button class="btn btn-warning" onclick="pauseGame()">‚è∏Ô∏è –ü–∞—É–∑–∞</button>
            <button class="btn btn-primary" onclick="showWelcome()">üè† –í –º–µ–Ω—é</button>
        </div>

        <!-- –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ -->
        <div class="keyboard" id="keyboard">
            <div class="keyboard-row">
                <div class="key" data-key="—ë">—ë</div>
                <div class="key" data-key="1">1</div>
                <div class="key" data-key="2">2</div>
                <div class="key" data-key="3">3</div>
                <div class="key" data-key="4">4</div>
                <div class="key" data-key="5">5</div>
                <div class="key" data-key="6">6</div>
                <div class="key" data-key="7">7</div>
                <div class="key" data-key="8">8</div>
                <div class="key" data-key="9">9</div>
                <div class="key" data-key="0">0</div>
                <div class="key" data-key="-">-</div>
                <div class="key" data-key="=">=</div>
                <div class="key special" data-key="Backspace">‚å´</div>
            </div>
            <div class="keyboard-row">
                <div class="key special" data-key="Tab">Tab</div>
                <div class="key" data-key="–π">–π</div>
                <div class="key" data-key="—Ü">—Ü</div>
                <div class="key" data-key="—É">—É</div>
                <div class="key" data-key="–∫">–∫</div>
                <div class="key" data-key="–µ">–µ</div>
                <div class="key" data-key="–Ω">–Ω</div>
                <div class="key" data-key="–≥">–≥</div>
                <div class="key" data-key="—à">—à</div>
                <div class="key" data-key="—â">—â</div>
                <div class="key" data-key="–∑">–∑</div>
                <div class="key" data-key="—Ö">—Ö</div>
                <div class="key" data-key="—ä">—ä</div>
                <div class="key" data-key="\\">\</div>
            </div>
            <div class="keyboard-row">
                <div class="key special" data-key="CapsLock">Caps</div>
                <div class="key" data-key="—Ñ">—Ñ</div>
                <div class="key" data-key="—ã">—ã</div>
                <div class="key" data-key="–≤">–≤</div>
                <div class="key" data-key="–∞">–∞</div>
                <div class="key" data-key="–ø">–ø</div>
                <div class="key" data-key="—Ä">—Ä</div>
                <div class="key" data-key="–æ">–æ</div>
                <div class="key" data-key="–ª">–ª</div>
                <div class="key" data-key="–¥">–¥</div>
                <div class="key" data-key="–∂">–∂</div>
                <div class="key" data-key="—ç">—ç</div>
                <div class="key special" data-key="Enter">Enter</div>
            </div>
            <div class="keyboard-row">
                <div class="key special" data-key="Shift">Shift</div>
                <div class="key" data-key="—è">—è</div>
                <div class="key" data-key="—á">—á</div>
                <div class="key" data-key="—Å">—Å</div>
                <div class="key" data-key="–º">–º</div>
                <div class="key" data-key="–∏">–∏</div>
                <div class="key" data-key="—Ç">—Ç</div>
                <div class="key" data-key="—å">—å</div>
                <div class="key" data-key="–±">–±</div>
                <div class="key" data-key="—é">—é</div>
                <div class="key" data-key=".">.</div>
                <div class="key special" data-key="Shift">Shift</div>
            </div>
            <div class="keyboard-row">
                <div class="key special" data-key="Ctrl">Ctrl</div>
                <div class="key special" data-key="Alt">Alt</div>
                <div class="key space" data-key=" ">–ü—Ä–æ–±–µ–ª</div>
                <div class="key special" data-key="Alt">Alt</div>
                <div class="key special" data-key="Ctrl">Ctrl</div>
            </div>
        </div>
    </div>

    <script>
        // –ò–≥—Ä–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
        const WORDS = {
            1: ["–¥–æ–º", "–∫–æ—Ç", "–º—è—á", "—Å–∞–¥", "–ª–µ—Å", "—Å–æ–Ω", "—Ä–æ—Ç", "–Ω–æ—Å", "–≥–ª–∞–∑", "—É—Ö–æ", "–¥–µ–¥", "–º–µ–¥", "–ª–µ–¥", "–ø–æ–ª", "—Å—Ç–æ–ª", "—Å—Ç—É–ª", "–æ–∫–Ω–æ", "–Ω–µ–±–æ", "–º–æ—Ä–µ", "–ø–æ–ª–µ", "—Ä–∞–¥–∏—è", "—É–Ω–æ—Å—è", "–æ–ª–∏–≤—ã", "–æ—Ç–æ–∫–∏", "–æ—Ç–∞–∫—É", "–¥–æ–π—á–µ", "–¥—Ä–µ–≤—É", "—Å–æ–º–º–µ", "–∞–º–∞–Ω", "–∑–∞–ø–µ–π", "—à–º–∏", "–µ–ª–µ–π", "—Ñ–µ–±–∞", "—Ä–∂—É—Ç", "—Ö–≤–æ—Ä–∏", "—Ä–∞–≤–Ω–∞—è", "–Ω–∞–≥–æ–π", "–∫—Ä–∞—Å—ã", "–±–µ–≥–ª—ã–º", "—Ä—ã–±–∏–Ω"],
            2: ["–º–∞–º–∞", "–ø–∞–ø–∞", "–¥–µ—Ç–∏", "—Ä—É–∫–∞", "–Ω–æ–≥–∞", "–≤–æ–¥–∞", "—Ö–ª–µ–±", "–º–æ–ª–æ–∫–æ", "—Å–æ–ª–Ω—Ü–µ", "—Ü–≤–µ—Ç—ã", "–ø—Ç–∏—Ü—ã", "—Å–æ–±–∞–∫–∞", "–∫–æ—à–∫–∞", "–º–∞—à–∏–Ω–∞", "—à–∫–æ–ª–∞", "–ª—é–±–µ–∑–Ω–µ–µ", "–∂–∞–ª–æ–±–µ", "–æ–∫–æ—Ä–æ–∫–∞", "–ª–æ—Å–æ—Å–µ–π", "–º—ã—à–µ–≥—Ä–∞–¥", "—à–ø–∏–ª—å–∫–∏", "–º–∏–Ω—É—Å–æ–≤", "–∞—Ç—Ç–µ–º—Å", "—á—É–∂–±–∏–Ω–µ", "–ø–µ—Ç–∞—Ä–¥–∞", "—Ç—è–∂–∫–æ–º", "—Ñ—Ä–µ–π–ª–∏–Ω", "–æ—Ç—Ä—ã–≤–∞—è", "—Å–æ–∂–∞–ª–µ–ª–∏", "—à–ª—ë–ø–Ω—É–ª", "–∫–æ—à–µ–ª–∫–æ–π", "–∫–∞—Å—Å–∏—Ä—ã", "–Ω–µ–º–∞–ª–∞—è", "–ø–æ–¥–º–µ—Ç–∏", "–ø–æ–≤—ã—Å–∏–≤", "–≥—Ä–∏–º–µ—Ä–∫–µ", "—à–µ–ª–∫–æ–≤—ã–µ", "–∫–∏–≤–Ω—É–ª–∞", "—Ä–∞–∑–º–µ—â–µ–Ω–∞", "–¥–æ—Å—Ç—É–ø–Ω–æ–µ", "–ø–æ–∫—Ä—ã–ª–æ", "–æ–±–∏–ª—å–Ω—ã–π", "–∫–æ–∑–∞–º–∏", "–æ—Ç–¥–µ–ª–∫–∏", "–≥–Ω–∏–ª—ã–º–∏", "–≤–æ–Ω—é—á–∏–º–∏", "–∫–æ–ø–∏–ª–∫–∞", "—Å–µ—Ä–µ–Ω–∞–¥–∞", "–≥–æ—Ä–¥—ã–º–∏"],
            3: ["—Ä–µ–±–µ–Ω–æ–∫", "—É—á–∏—Ç–µ–ª—å", "—Ç–µ—Ç—Ä–∞–¥—å", "–∫–∞—Ä–∞–Ω–¥–∞—à", "–ø–æ—Ä—Ç—Ñ–µ–ª—å", "–∫–æ–º–ø—å—é—Ç–µ—Ä", "–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞", "—É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ", "–æ—Ç–≤–µ–¥–∞–µ—à—å", "—Ä–∞–∑–≤–æ—Ä–æ—à–∏–ª–∏", "—Å–µ–Ω—Ç–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ", "–ø–µ—Ä–µ–æ–¥–µ–≤—à–∏—Å—å", "–≤–æ—Ü–∞—Ä–∏—Ç—å—Å—è", "–Ω–∞–º–µ—Ä–µ–Ω—å—è", "—ç—Ñ—Ñ–µ–∫—Ç–Ω—ã–π", "–±–æ–≥–∞—Ç–µ–π—à–∏–º", "–±–µ–ª—å–≥–∏–π—Å–∫–æ–π", "–æ–±–ª–∞–≥–æ—Ä–∞–∂–∏–≤–∞–µ—Ç", "–≤–æ—Å–ø–∏—Ç–∞–Ω–∞", "—Ä–∞–∑–¥—Ä–∞–∂–∞–π—Å—è", "–ø—Ä–∏—Å–∫–æ—Ä–±–Ω–æ–º", "–∑–∞–±—Ä–æ—Å–∞–π—Ç–µ", "–Ω–∞—Ä—ã–≤–∞–µ—Ç—Å—è", "–≤–æ–∑–≤—Ä–∞—â–∞–ª–∞", "—Å–ø–æ—Å–æ–±–Ω–æ–º—É", "–Ω–µ–¥–æ—Å—Ç–æ–π–Ω–∞—è", "–≤—ã—Ä—É–≥–∞–π—Å—è", "—Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–ª–∏—Å—å", "—Å–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç–µ", "–∂–µ–º—á—É–∂–∏–Ω–∞–º–∏", "–º–æ–Ω–æ–ø–æ–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å", "–Ω–µ–æ—Ç–ª–æ–∂–Ω—ã—Ö", "—É–∫–ª–æ–Ω—è–µ—Ç–µ—Å—å", "–æ—Å—Ç—Ä–æ—É–º–Ω—ã–º", "—Å–∏—Ä–æ—Ç—Å–∫–æ–≥–æ", "–≤—Å–ø–æ–º–Ω–∏–ª–∞—Å—å", "—Ä–æ–∑—ã–≥—Ä—ã—à–∏", "–∑–∞—á–∏—Å–ª–µ–Ω—ã", "–ø–æ—à–µ–≤–µ–ª–∏—Ç–µ", "–æ–∫–æ–ª–∞—á–∏–≤–∞—é—Ç—Å—è", "—Å–Ω–∞–±–∂–∞—é—Ç", "–ø—É—Å—Ç–æ–≥–æ–ª–æ–≤—ã—Ö", "–ø—Ä–∏–≤—Ä–∞—Ç–Ω–∏–∫–∞", "–æ—Ç—à–µ–ª—å–Ω–∏–∫–æ–≤", "–≥–æ—Å–ø–æ–¥—Å—Ç–≤—É–µ—Ç", "–Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∏—Ö—Å—è", "–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π", "–∏–∑–≥–æ—Ç–∞–≤–ª–∏–≤–∞—é—Ç", "—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω—ã"]
        };

        // –ò–≥—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        let gameState = {
            currentWord: '',
            currentLevel: 1,
            balance: 0, // –≤ –∫–æ–ø–µ–π–∫–∞—Ö
            wordsCompleted: 0,
            errorsCount: 0,
            startTime: null,
            currentInput: '',
            totalKeystrokes: 0,
            correctKeystrokes: 0,
            gameStarted: false
        };

        // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        const elements = {
            welcomeScreen: document.getElementById('welcomeScreen'),
            gameScreen: document.getElementById('gameScreen'),
            currentWord: document.getElementById('currentWord'),
            wordInput: document.getElementById('wordInput'),
            balance: document.getElementById('balance'),
            currentLevel: document.getElementById('currentLevel'),
            speed: document.getElementById('speed'),
            accuracy: document.getElementById('accuracy'),
            timer: document.getElementById('timer'),
            newWordBtn: document.getElementById('newWordBtn')
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            loadGameState();
            setupEventListeners();
            showWelcome();
        });

        function setupEventListeners() {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞
            elements.wordInput.addEventListener('input', handleInput);
            elements.wordInput.addEventListener('keydown', handleKeyDown);

            // –ö–ª–∏–∫–∏ –ø–æ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ
            document.querySelectorAll('.key').forEach(key => {
                key.addEventListener('click', function() {
                    const keyValue = this.dataset.key;
                    simulateKeyPress(keyValue);
                });
            });

            // –ê–≤—Ç–æ—Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞
            elements.wordInput.addEventListener('blur', function() {
                if (gameState.gameStarted) {
                    setTimeout(() => this.focus(), 100);
                }
            });
        }

        function startGame(level) {
            gameState.currentLevel = level;
            gameState.gameStarted = true;
            gameState.startTime = Date.now();
            
            elements.welcomeScreen.classList.add('hidden');
            elements.gameScreen.classList.remove('hidden');
            
            updateUI();
            newWord();
            elements.wordInput.disabled = false;
            elements.wordInput.focus();
            
            startTimer();
        }

        function showWelcome() {
            gameState.gameStarted = false;
            elements.gameScreen.classList.add('hidden');
            elements.welcomeScreen.classList.remove('hidden');
            elements.wordInput.disabled = true;
        }

        function newWord() {
            const levelWords = WORDS[gameState.currentLevel];
            const randomIndex = Math.floor(Math.random() * levelWords.length);
            gameState.currentWord = levelWords[randomIndex];
            gameState.currentInput = '';
            
            elements.wordInput.value = '';
            elements.wordInput.disabled = false;
            elements.wordInput.focus();
            
            displayCurrentWord();
            highlightNextKey();
            
            if (!gameState.startTime) {
                gameState.startTime = Date.now();
                startTimer();
            }
        }

        function displayCurrentWord() {
            const word = gameState.currentWord;
            const input = gameState.currentInput;
            let html = '';
            
            for (let i = 0; i < word.length; i++) {
                const letter = word[i];
                let className = '';
                
                if (i < input.length) {
                    className = input[i] === letter ? 'correct' : 'incorrect';
                } else if (i === input.length) {
                    className = 'current';
                }
                
                html += `<span class="letter ${className}">${letter}</span>`;
            }
            
            elements.currentWord.innerHTML = html;
        }

        function handleInput(e) {
            const input = e.target.value;
            gameState.currentInput = input;
            gameState.totalKeystrokes++;
            
            displayCurrentWord();
            highlightNextKey();
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–ª–æ–≤–∞
            if (input === gameState.currentWord) {
                completeWord();
            } else {
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ—à–∏–±–∫—É
                const isError = gameState.currentWord.substring(0, input.length) !== input;
                if (isError && input.length <= gameState.currentWord.length) {
                    gameState.errorsCount++;
                    playErrorSound();
                    flashKeyboardKey(getCurrentExpectedLetter(), 'wrong');
                } else if (!isError) {
                    gameState.correctKeystrokes++;
                    playSuccessSound();
                    flashKeyboardKey(input[input.length - 1], 'correct');
                }
            }
            
            updateUI();
        }

        function handleKeyDown(e) {
            // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –≤–≤–æ–¥ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
            if (e.key.length === 1) {
                const expectedLetter = getCurrentExpectedLetter();
                if (expectedLetter && e.key.toLowerCase() !== expectedLetter.toLowerCase()) {
                    e.preventDefault();
                }
            }
        }

        function getCurrentExpectedLetter() {
            const input = gameState.currentInput;
            if (input.length < gameState.currentWord.length) {
                return gameState.currentWord[input.length];
            }
            return null;
        }

        function highlightNextKey() {
            // –£–±–∏—Ä–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é –ø–æ–¥—Å–≤–µ—Ç–∫—É
            document.querySelectorAll('.key').forEach(key => {
                key.classList.remove('highlight');
            });
            
            const nextLetter = getCurrentExpectedLetter();
            if (nextLetter) {
                const keyElement = document.querySelector(`[data-key="${nextLetter}"]`);
                if (keyElement) {
                    keyElement.classList.add('highlight');
                }
            }
        }

        function flashKeyboardKey(letter, type) {
            const keyElement = document.querySelector(`[data-key="${letter}"]`);
            if (keyElement) {
                keyElement.classList.add(type === 'correct' ? 'correct-press' : 'wrong-press');
                setTimeout(() => {
                    keyElement.classList.remove('correct-press', 'wrong-press');
                }, 300);
            }
        }

        function completeWord() {
            const wordLength = gameState.currentWord.length;
            const earnedCopecks = wordLength * 10;
            gameState.balance += earnedCopecks;
            gameState.wordsCompleted++;
            gameState.correctKeystrokes += wordLength;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –¥–µ–Ω–µ–≥
            showMoneyAnimation(earnedCopecks);
            playSuccessSound();
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
            checkAchievements();
            
            // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å
            if (gameState.wordsCompleted % 5 === 0 && gameState.currentLevel < 3) {
                gameState.currentLevel++;
                showAchievement(`üéâ –£—Ä–æ–≤–µ–Ω—å ${gameState.currentLevel}!`, `–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ ${gameState.currentLevel} —É—Ä–æ–≤–µ–Ω—å!`);
            }
            
            updateUI();
            saveGameState();
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–æ–≤–æ–µ —Å–ª–æ–≤–æ —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É
            setTimeout(() => {
                newWord();
            }, 1500);
        }

        function showMoneyAnimation(copecks) {
            const rubles = Math.floor(copecks / 100);
            const remainingCopecks = copecks % 100;
            const text = rubles > 0 ? 
                `+${rubles} —Ä—É–±. ${remainingCopecks.toString().padStart(2, '0')} –∫–æ–ø.` : 
                `+${remainingCopecks} –∫–æ–ø.`;
            
            const animation = document.createElement('div');
            animation.className = 'money-animation';
            animation.textContent = text;
            animation.style.left = '50%';
            animation.style.top = '40%';
            
            document.body.appendChild(animation);
            
            setTimeout(() => {
                document.body.removeChild(animation);
            }, 2000);
        }

        function checkAchievements() {
            const rubles = Math.floor(gameState.balance / 100);
            const milestones = [10, 50, 100, 200, 500];
            
            milestones.forEach(milestone => {
                const achievementKey = `achievement_${milestone}`;
                if (rubles >= milestone && !localStorage.getItem(achievementKey)) {
                    localStorage.setItem(achievementKey, 'true');
                    showAchievement(
                        `üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ!`,
                        `–í—ã –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ ${milestone} —Ä—É–±–ª–µ–π!`
                    );
                }
            });
        }

        function showAchievement(title, message) {
            const achievement = document.createElement('div');
            achievement.className = 'achievement';
            achievement.innerHTML = `
                <h3>${title}</h3>
                <p>${message}</p>
            `;
            
            document.body.appendChild(achievement);
            
            setTimeout(() => {
                document.body.removeChild(achievement);
            }, 3000);
        }

        function updateUI() {
            // –ë–∞–ª–∞–Ω—Å
            const rubles = Math.floor(gameState.balance / 100);
            const copecks = gameState.balance % 100;
            elements.balance.textContent = `${rubles} —Ä—É–±. ${copecks.toString().padStart(2, '0')} –∫–æ–ø.`;
            
            // –£—Ä–æ–≤–µ–Ω—å
            elements.currentLevel.textContent = gameState.currentLevel;
            
            // –°–∫–æ—Ä–æ—Å—Ç—å (—Å–ª–æ–≤ –≤ –º–∏–Ω—É—Ç—É)
            if (gameState.startTime && gameState.wordsCompleted > 0) {
                const timeElapsed = (Date.now() - gameState.startTime) / 1000 / 60; // –≤ –º–∏–Ω—É—Ç–∞—Ö
                const wpm = Math.round(gameState.wordsCompleted / timeElapsed);
                elements.speed.textContent = `${wpm} —Å–ª/–º–∏–Ω`;
            }
            
            // –¢–æ—á–Ω–æ—Å—Ç—å
            if (gameState.totalKeystrokes > 0) {
                const accuracy = Math.round((gameState.correctKeystrokes / gameState.totalKeystrokes) * 100);
                elements.accuracy.textContent = `${accuracy}%`;
            }
        }

        function startTimer() {
            setInterval(() => {
                if (gameState.startTime && gameState.gameStarted) {
                    const elapsed = Math.floor((Date.now() - gameState.startTime) / 1000);
                    const minutes = Math.floor(elapsed / 60);
                    const seconds = elapsed % 60;
                    elements.timer.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
                }
            }, 1000);
        }

        function simulateKeyPress(key) {
            if (!gameState.gameStarted || elements.wordInput.disabled) return;
            
            if (key === 'Backspace') {
                const currentValue = elements.wordInput.value;
                elements.wordInput.value = currentValue.slice(0, -1);
                elements.wordInput.dispatchEvent(new Event('input'));
            } else if (key === ' ') {
                // –ü—Ä–æ–±–µ–ª –æ–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–µ–Ω –≤ –Ω–∞—à–∏—Ö —Å–ª–æ–≤–∞—Ö
                return;
            } else if (key.length === 1) {
                elements.wordInput.value += key;
                elements.wordInput.dispatchEvent(new Event('input'));
            }
        }

        function pauseGame() {
            gameState.gameStarted = false;
            elements.wordInput.disabled = true;
            alert('–ò–≥—Ä–∞ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞. –ù–∞–∂–º–∏—Ç–µ OK —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å.');
            gameState.gameStarted = true;
            elements.wordInput.disabled = false;
            elements.wordInput.focus();
        }

        function playSuccessSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                oscillator.frequency.setValueAtTime(1200, audioContext.currentTime + 0.1);
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.2);
            } catch (e) {
                // –ó–≤—É–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
            }
        }

        function playErrorSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(300, audioContext.currentTime);
                oscillator.type = 'sawtooth';
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.3);
            } catch (e) {
                // –ó–≤—É–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
            }
        }

        function saveGameState() {
            localStorage.setItem('typingGameState', JSON.stringify({
                balance: gameState.balance,
                wordsCompleted: gameState.wordsCompleted,
                errorsCount: gameState.errorsCount,
                totalKeystrokes: gameState.totalKeystrokes,
                correctKeystrokes: gameState.correctKeystrokes
            }));
        }

        function loadGameState() {
            const saved = localStorage.getItem('typingGameState');
            if (saved) {
                const data = JSON.parse(saved);
                gameState.balance = data.balance || 0;
                gameState.wordsCompleted = data.wordsCompleted || 0;
                gameState.errorsCount = data.errorsCount || 0;
                gameState.totalKeystrokes = data.totalKeystrokes || 0;
                gameState.correctKeystrokes = data.correctKeystrokes || 0;
            }
        }
    </script>
</body>
</html>'''

